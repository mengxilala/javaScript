<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>jquery-data的使用方法</title>
    <script src="../../js/jquery.min.js"></script>
</head>

<body>
    <!-- data:在元素上存放或读取数据,返回jQuery对象。 -->
    <!-- 
     当参数只有一个key的时候，为读取该jQuery对象对应DOM中存储的key对应的值
值得注意的是，如果浏览器支持HTML5，同样可以读取该DOM中使用 data-[key] = [value] 所存储的值。 -->


    <!-- 当参数为两个时，为像该jQuery对象对应的DOM中存储key-value键值对的数据。  -->


    <!-- 在一个div上存储数据 -->
    <!-- <div></div> -->


    <!-- 在一个div上存取名/值对数据 -->
    <!-- <div></div> -->


    <!-- 在HTML5规范中div中读取预存的data-[key]值    -->
    <!-- <div data-hetx="this is test"></div> -->


    <!-- removeData 在元素上移除存放的数据 -->
    <button id="btn2"></button>
    <div id="div" data-greeting="hello,i'm greeting!"></div>



    <ul>
        <li data-name="kobe">科比</li>
        <li data-name="gasol">加索尔</li>
        <li data-name="nash">纳什</li>
        <li data-name="fisher">费舍尔</li>
    </ul>
    <script>
        // 在一个div上存储数据 
        // console.log($("div").data("blah"));  // undefined
        // console.log($("div").data("blah", "hello"));  // blah设置为hello
        // console.log($("div").data("blah"));  // hello
        // console.log($("div").data("blah", 86));  // 设置为86
        // console.log($("div").data("blah"));  //  86
        // console.log($("div").removeData("blah"));  //移除blah
        // console.log($("div").data("blah"));  // undefined


        // 在一个div上存取名/值对数据

        // $("div").data("test", { first: 16, last: "pizza!" });
        // $("div").data("test").first  //16;
        // $("div").data("test").last  //pizza!;


        // 在HTML5规范中div中读取预存的data-[key]值

        // $("div").data("test"); //this is test!;

        // console.log($("div").data("hetx"));

        // removeData 在元素上移除存放的数据 不能删除和HTML5自定义的属性 
        // 这里使用的是removeAttr，测试官方的removeData是不起作用的 ;



        // console.log($("#div").data("greeting"));  //  hello,i'm greeting!
        // $("#div").removeAttr("data-greeting");
        // console.log($("#div").data("greeting"));

        // $("#btn2").click(function () {
        //     $("div").removeData("greeting");
        //     console.log($("div").data("greeting"));
        //     // alert("Greeting is: " + $("div").data("greeting"));

        // });

        // $("div").data("blah", 86);
        // console.log($("div").data("blah"));  //  86
        // $("div").removeData("blah");  //移除blah
        // console.log($("div").data("blah")); // undefined



        //删除data-*的值   这里使用的是removeAttr，测试官方的removeData是不起作用的

        $("li").eq(0).removeAttr('data-name');
        $("li").each(function (v) {
            console.log($(this).data('name'));
        });
    </script>


</body>

</html>