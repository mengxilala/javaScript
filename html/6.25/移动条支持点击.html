<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
*{margin:0;padding:0;}
#box{width:300px;height:20px;margin:100px auto;position:relative;background:#ccc;}
#dot{width:40px;height:40px;border-radius:40px;background:red;position:absolute;left:0;top:-10px;}
</style>
</head>

<body>
<div id="box">
	<div id="dot"></div>
</div>
<script>
dot.onmousedown = function ( ev ){
	var disX = ev.clientX - ( dot.offsetLeft + box.offsetLeft );
	console.log(ev.clientX);
	console.log(dot.offsetLeft); //0 
	console.log(box.offsetLeft); //223
	document.onmousemove = function ( ev ){
		var n = ev.clientX - disX - box.offsetLeft;
		if( n < 0 ){
			n = 0;
		}else if( n > box.offsetWidth - dot.offsetWidth ){
			n = box.offsetWidth - dot.offsetWidth	;
		}
		dot.style.left = n +'px';
	}
	document.onmouseup = function (){
		this.onmousemove = this.onmouseup = null;	
	}
}
box.onclick = function ( ev ){
	var n = ev.clientX - (dot.offsetWidth/2)- box.offsetLeft;
	if( n < 0 ){
		n = 0;
	}else if( n > box.offsetWidth - dot.offsetWidth ){
		n = box.offsetWidth - dot.offsetWidth	;
	}
	dot.style.left = n +'px';
}
</script>
</body>
</html>